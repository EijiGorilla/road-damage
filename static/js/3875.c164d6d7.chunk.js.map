{"version":3,"file":"static/js/3875.c164d6d7.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/ElevationLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../request.js\";import t from\"../core/Error.js\";import{releaseMaybe as i}from\"../core/maybe.js\";import{MultiOriginJSONMixin as o}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as s,throwIfAborted as a}from\"../core/promiseUtils.js\";import{objectToQuery as p}from\"../core/urlUtils.js\";import{property as l}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{reader as n}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as c}from\"../core/accessorSupport/decorators/subclass.js\";import d from\"../geometry/HeightModelInfo.js\";import u from\"./Layer.js\";import{ArcGISCachedService as y}from\"./mixins/ArcGISCachedService.js\";import{ArcGISService as m}from\"./mixins/ArcGISService.js\";import{OperationalLayer as h}from\"./mixins/OperationalLayer.js\";import{PortalLayer as v}from\"./mixins/PortalLayer.js\";import{url as f}from\"./support/commonProperties.js\";import{ElevationTileData as g}from\"./support/ElevationTileData.js\";import{acquireDecoder as j}from\"./support/LercDecoder.js\";let w=class extends(y(m(h(v(o(u)))))){constructor(...e){super(...e),this.capabilities={operations:{supportsTileMap:!1}},this.copyright=null,this.heightModelInfo=null,this.path=null,this.minScale=void 0,this.maxScale=void 0,this.opacity=1,this.operationalLayerType=\"ArcGISTiledElevationServiceLayer\",this.sourceJSON=null,this.type=\"elevation\",this.url=null,this.version=null,this._lercDecoder=j()}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}destroy(){this._lercDecoder=i(this._lercDecoder)}readCapabilities(e,r){const t=r.capabilities&&r.capabilities.split(\",\").map((e=>e.toLowerCase().trim()));if(!t)return{operations:{supportsTileMap:!1}};return{operations:{supportsTileMap:t.includes(\"tilemap\")}}}readVersion(e,r){let t=r.currentVersion;return t||(t=9.3),t}load(e){const r=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Image Service\"],supportsData:!1,validateItem:e=>{if(e.typeKeywords)for(let r=0;r<e.typeKeywords.length;r++)if(\"elevation 3d layer\"===e.typeKeywords[r].toLowerCase())return!0;throw new t(\"portal:invalid-layer-item-type\",\"Invalid layer item type '${type}', expected '${expectedType}' \",{type:\"Image Service\",expectedType:\"Image Service Elevation 3D Layer\"})}},e).catch(s).then((()=>this._fetchImageService(r)))),Promise.resolve(this)}fetchTile(e,t,i,o){const s=null!=(o=o||{signal:null}).signal?o.signal:o.signal=(new AbortController).signal,a={responseType:\"array-buffer\",signal:s},p={noDataValue:o.noDataValue,returnFileInfo:!0};return this.load().then((()=>this._fetchTileAvailability(e,t,i,o))).then((()=>r(this.getTileUrl(e,t,i),a))).then((e=>this._lercDecoder.decode(e.data,p,s))).then((e=>new g(e)))}getTileUrl(e,r,t){const i=!this.capabilities.operations.supportsTileMap&&this.supportsBlankTile,o=p({...this.parsedUrl.query,blankTile:!i&&null});return`${this.parsedUrl.path}/tile/${e}/${r}/${t}${o?\"?\"+o:\"\"}`}async queryElevation(e,r){const{ElevationQuery:t}=await import(\"./support/ElevationQuery.js\");a(r);return(new t).query(this,e,r)}async createElevationSampler(e,r){const{ElevationQuery:t}=await import(\"./support/ElevationQuery.js\");a(r);return(new t).createSampler(this,e,r)}_fetchTileAvailability(e,r,t,i){return this.tilemapCache?this.tilemapCache.fetchAvailability(e,r,t,i):Promise.resolve(\"unknown\")}async _fetchImageService(e){if(this.sourceJSON)return this.sourceJSON;const t={query:{f:\"json\",...this.parsedUrl.query},responseType:\"json\",signal:e},i=await r(this.parsedUrl.path,t);i.ssl&&(this.url=this.url?.replace(/^http:/i,\"https:\")),this.sourceJSON=i.data,this.read(i.data,{origin:\"service\",url:this.parsedUrl})}get hasOverriddenFetchTile(){return!this.fetchTile[S]}};e([l({readOnly:!0})],w.prototype,\"capabilities\",void 0),e([n(\"service\",\"capabilities\",[\"capabilities\"])],w.prototype,\"readCapabilities\",null),e([l({json:{read:{source:\"copyrightText\"}}})],w.prototype,\"copyright\",void 0),e([l({readOnly:!0,type:d})],w.prototype,\"heightModelInfo\",void 0),e([l({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0}},read:!1}})],w.prototype,\"path\",void 0),e([l({type:[\"show\",\"hide\"]})],w.prototype,\"listMode\",void 0),e([l({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},\"portal-item\":{read:!1,write:!1},\"web-document\":{read:!1,write:!1}}},readOnly:!0})],w.prototype,\"minScale\",void 0),e([l({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},\"portal-item\":{read:!1,write:!1},\"web-document\":{read:!1,write:!1}}},readOnly:!0})],w.prototype,\"maxScale\",void 0),e([l({json:{read:!1,write:!1,origins:{\"web-document\":{read:!1,write:!1}}}})],w.prototype,\"opacity\",void 0),e([l({type:[\"ArcGISTiledElevationServiceLayer\"]})],w.prototype,\"operationalLayerType\",void 0),e([l()],w.prototype,\"sourceJSON\",void 0),e([l({json:{read:!1},value:\"elevation\",readOnly:!0})],w.prototype,\"type\",void 0),e([l(f)],w.prototype,\"url\",void 0),e([l()],w.prototype,\"version\",void 0),e([n(\"version\",[\"currentVersion\"])],w.prototype,\"readVersion\",null),w=e([c(\"esri.layers.ElevationLayer\")],w);const S=Symbol(\"default-fetch-tile\");w.prototype.fetchTile[S]=!0;const T=w;export{T as default};\n"],"names":["w","y","m","h","v","o","u","constructor","super","arguments","this","capabilities","operations","supportsTileMap","copyright","heightModelInfo","path","minScale","maxScale","opacity","operationalLayerType","sourceJSON","type","url","version","_lercDecoder","j","normalizeCtorArgs","e","r","destroy","i","readCapabilities","t","split","map","toLowerCase","trim","includes","readVersion","currentVersion","load","signal","addResolvingPromise","loadFromPortal","supportedTypes","supportsData","validateItem","typeKeywords","length","expectedType","catch","s","then","_fetchImageService","Promise","resolve","fetchTile","AbortController","a","responseType","p","noDataValue","returnFileInfo","_fetchTileAvailability","getTileUrl","decode","data","g","supportsBlankTile","parsedUrl","query","blankTile","concat","queryElevation","ElevationQuery","createElevationSampler","createSampler","tilemapCache","fetchAvailability","_this$url","f","ssl","replace","read","origin","hasOverriddenFetchTile","S","l","readOnly","prototype","n","json","source","d","String","origins","write","service","value","c","Symbol","T"],"sourceRoot":""}